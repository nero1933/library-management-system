{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/authors":{"get":{"tags":["authors"],"summary":"Get Authors","operationId":"get_authors_authors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AuthorResponseSchema"},"type":"array","title":"Response Get Authors Authors Get"}}}}}},"post":{"tags":["authors"],"summary":"Create Author","operationId":"create_author_authors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/authors/{author_id}/books":{"get":{"tags":["authors"],"summary":"Get Books By Author","operationId":"get_books_by_author_authors__author_id__books_get","parameters":[{"name":"author_id","in":"path","required":true,"schema":{"type":"integer","title":"Author Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookResponseSchema"},"title":"Response Get Books By Author Authors  Author Id  Books Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/register":{"post":{"tags":["auth"],"summary":"Register","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAuthSchema"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDataSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/logout":{"post":{"tags":["auth"],"summary":"Logout","operationId":"logout_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Logout Auth Logout Post"}}}}}}},"/auth/refresh":{"post":{"tags":["auth"],"summary":"Refresh Token","operationId":"refresh_token_auth_refresh_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenDataSchema"}}}}}}},"/genres":{"get":{"tags":["genres"],"summary":"Get Genre","operationId":"get_genre_genres_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/GenreResponseSchema"},"type":"array","title":"Response Get Genre Genres Get"}}}}}},"post":{"tags":["genres"],"summary":"Create Genre","operationId":"create_genre_genres_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenreResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/publishers":{"get":{"tags":["publishers"],"summary":"Get Publisher","operationId":"get_publisher_publishers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PublisherResponseSchema"},"type":"array","title":"Response Get Publisher Publishers Get"}}}}}},"post":{"tags":["publishers"],"summary":"Create Publisher","operationId":"create_publisher_publishers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublisherSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublisherResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books":{"get":{"tags":["books"],"summary":"Get Book","operationId":"get_book_books_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"title","in":"query","required":false,"schema":{"type":"string","minLength":3,"maxLength":100,"title":"Title"}},{"name":"author_name","in":"query","required":false,"schema":{"type":"string","minLength":3,"maxLength":100,"title":"Author Name"}},{"name":"genre_name","in":"query","required":false,"schema":{"type":"string","minLength":3,"maxLength":100,"title":"Genre Name"}},{"name":"publisher_name","in":"query","required":false,"schema":{"type":"string","minLength":3,"maxLength":100,"title":"Publisher Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookResponseSchema"},"title":"Response Get Book Books Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["books"],"summary":"Create Book","operationId":"create_book_books_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreateSchema"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/{book_id}":{"get":{"tags":["books"],"summary":"Get Book By Id","operationId":"get_book_by_id_books__book_id__get","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookResponseSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/books/{book_id}/history":{"get":{"tags":["books"],"summary":"View Borrow History","operationId":"view_borrow_history_books__book_id__history_get","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"active","in":"query","required":false,"schema":{"type":"boolean","title":"Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BorrowResponseSchema"},"title":"Response View Borrow History Books  Book Id  History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["users"],"summary":"Get User Profile","description":"Get user credentials.","operationId":"get_user_profile_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseSchema"}}}}},"security":[{"HTTPBearer":[]}]}},"/users/history":{"get":{"tags":["users"],"summary":"View Users Borrow History","description":"Get user transaction history.","operationId":"view_users_borrow_history_users_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"active","in":"query","required":false,"schema":{"type":"boolean","title":"Active"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BorrowResponseSchema"},"title":"Response View Users Borrow History Users History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/borrow":{"post":{"tags":["book_transactions"],"summary":"Borrow Book","operationId":"borrow_book_borrow_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowMultipleCreateSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BorrowResponseSchema"},"type":"array","title":"Response Borrow Book Borrow Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/return":{"post":{"tags":["book_transactions"],"summary":"Return Book","operationId":"return_book_return_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BorrowMultipleCreateSchema"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/BorrowResponseSchema"},"type":"array","title":"Response Return Book Return Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"AuthorResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"birthdate":{"type":"string","format":"date","title":"Birthdate"}},"type":"object","required":["id","name","birthdate"],"title":"AuthorResponseSchema"},"AuthorSchema":{"properties":{"name":{"type":"string","title":"Name"},"birthdate":{"type":"string","format":"date","title":"Birthdate"}},"type":"object","required":["name","birthdate"],"title":"AuthorSchema"},"BookCreateSchema":{"properties":{"title":{"type":"string","title":"Title"},"publish_date":{"type":"string","format":"date","title":"Publish Date"},"qty_in_library":{"type":"integer","title":"Qty In Library"},"isbn":{"type":"string","title":"Isbn"},"author_id":{"type":"integer","title":"Author Id"},"genre_id":{"type":"integer","title":"Genre Id"},"publisher_id":{"type":"integer","title":"Publisher Id"}},"type":"object","required":["title","publish_date","qty_in_library","isbn","author_id","genre_id","publisher_id"],"title":"BookCreateSchema"},"BookResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"author":{"$ref":"#/components/schemas/AuthorResponseSchema"},"genre":{"$ref":"#/components/schemas/GenreResponseSchema"},"publisher":{"$ref":"#/components/schemas/PublisherResponseSchema"},"publish_date":{"type":"string","format":"date","title":"Publish Date"},"qty_in_library":{"type":"integer","title":"Qty In Library"},"isbn":{"type":"string","title":"Isbn"}},"type":"object","required":["id","title","author","genre","publisher","publish_date","qty_in_library","isbn"],"title":"BookResponseSchema"},"BorrowMultipleCreateSchema":{"properties":{"book_ids":{"items":{"type":"integer"},"type":"array","uniqueItems":true,"title":"Book Ids"}},"type":"object","required":["book_ids"],"title":"BorrowMultipleCreateSchema"},"BorrowResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"user_id":{"type":"integer","title":"User Id"},"book_id":{"type":"integer","title":"Book Id"},"borrowed_at":{"type":"string","format":"date-time","title":"Borrowed At"},"returned_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Returned At"}},"type":"object","required":["id","user_id","book_id","borrowed_at","returned_at"],"title":"BorrowResponseSchema"},"GenreResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"}},"type":"object","required":["id","name"],"title":"GenreResponseSchema"},"GenreSchema":{"properties":{"name":{"type":"string","title":"Name"}},"type":"object","required":["name"],"title":"GenreSchema"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PublisherResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"established_year":{"type":"integer","title":"Established Year"}},"type":"object","required":["id","name","established_year"],"title":"PublisherResponseSchema"},"PublisherSchema":{"properties":{"name":{"type":"string","title":"Name"},"established_year":{"type":"integer","title":"Established Year"}},"type":"object","required":["name","established_year"],"title":"PublisherSchema"},"TokenDataSchema":{"properties":{"access_token":{"type":"string","title":"Access Token"}},"type":"object","required":["access_token"],"title":"TokenDataSchema"},"UserAuthSchema":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserAuthSchema"},"UserCreateSchema":{"properties":{"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"full_name":{"type":"string","title":"Full Name"}},"type":"object","required":["username","email","password","full_name"],"title":"UserCreateSchema"},"UserResponseSchema":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","title":"Full Name"}},"type":"object","required":["id","username","email","full_name"],"title":"UserResponseSchema"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}